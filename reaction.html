<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ò–≥—Ä–∞ –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é</title>
<style>
body {
  margin: 0;
  height: 100vh;
  background: #000;
  color: #fff;
  font-family: Arial;
}

#panel {
  position: fixed;
  top: 10px;
  left: 10px;
}

button {
  background: #000;
  color: #fff;
  border: 2px solid #fff;
  padding: 10px 20px;
  cursor: pointer;
  transition: 0.2s;
}

button:hover {
  background: #fff;
  color: #000;
}

#btn {
  position: absolute;
  display: none;
}
</style>
</head>
<body>

<div id="panel">
  ‚è± <span id="time">30</span> —Å–µ–∫<br>
  üéØ <span id="hits">0</span><br><br>
  <button onclick="resetGame()">–°–±—Ä–æ—Å</button>
</div>

<button id="btn">–ñ–ú–ò</button>

<script>
let hits = 0;
let reactions = [];
let start = 0;
let time = 30;
let active = true;

const btn = document.getElementById("btn");

function showButton() {
  if (!active) return;
  btn.style.left = Math.random() * (window.innerWidth - 120) + "px";
  btn.style.top = Math.random() * (window.innerHeight - 60) + "px";
  btn.style.display = "block";
  start = Date.now();
}

btn.onclick = () => {
  reactions.push(Date.now() - start);
  hits++;
  document.getElementById("hits").textContent = hits;
  btn.style.display = "none";
  setTimeout(showButton, Math.random() * 4000 + 1000);
};

let timer = setInterval(() => {
  time--;
  document.getElementById("time").textContent = time;
  if (time === 0) {
    active = false;
    clearInterval(timer);
    btn.style.display = "none";
    let avg = reactions.length
      ? Math.round(reactions.reduce((a,b)=>a+b)/reactions.length)
      : 0;
    alert(`–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞\n–ù–∞–∂–∞—Ç–∏–π: ${hits}\n–°—Ä–µ–¥–Ω—è—è —Ä–µ–∞–∫—Ü–∏—è: ${avg} –º—Å`);
  }
}, 1000);

setTimeout(showButton, 1000);

function resetGame() {
  location.reload();
}
</script>

</body>
</html>
